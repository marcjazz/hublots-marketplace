yarn run v1.22.22
$ next dev --turbopack
 ⚠ Warning: Next.js inferred your workspace root, but it may not be correct.
 We detected multiple lockfiles and selected the directory of /app/yarn.lock as the root directory.
 To silence this warning, set `turbopack.root` in your Next.js config, or consider removing one of the lockfiles if it's not needed.
   See https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopack#root-directory for more information.
 Detected additional lockfiles:
   * /app/storefront/pnpm-lock.yaml

 ⚠ Port 3000 is in use by an unknown process, using available port 3001 instead.
   ▲ Next.js 15.5.7 (Turbopack)
   - Local:        http://localhost:3001
   - Network:      http://192.168.0.2:3001
   - Environments: .env.local

 ✓ Starting...
 ✓ Compiled middleware in 348ms
 ✓ Ready in 2.1s
 ⨯ Error [TypeError]: fetch failed
    at getRegionMap (storefront/src/middleware.ts:45:31)
    at middleware (storefront/src/middleware.ts:168:27)
  43 |   if (!regionMap.keys().next().value || regionMapUpdated < Date.now() - 3600 * 1000) {
  44 |     // Fetch regions from Medusa. We can't use the JS client here because middleware is running on Edge and the client needs a Node environment.
> 45 |     const { regions } = await fetch(`${BACKEND_URL}/store/regions`, {
     |                               ^
  46 |       headers: {
  47 |         'x-publishable-api-key': PUBLISHABLE_API_KEY!
  48 |       },
 ○ Compiling /_error ...
 ✓ Compiled /_error in 2.3s
 GET /checkout 404 in 16ms
 ○ Compiling /_not-found/page ...
 ✓ Compiled /_not-found/page in 6.1s
Initiating Medusa client with default headers:
 {
  "accept": "application/json",
  "content-type": "application/json",
  "authorization": "<REDACTED>"
}
